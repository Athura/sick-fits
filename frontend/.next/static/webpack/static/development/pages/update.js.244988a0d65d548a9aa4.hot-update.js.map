{"version":3,"file":"static/webpack/static\\development\\pages\\update.js.244988a0d65d548a9aa4.hot-update.js","sources":["webpack:///./components/UpdateItem.js"],"sourcesContent":["import React, { Component } from 'react'\r\nimport { Mutation, Query } from 'react-apollo';\r\nimport gql from 'graphql-tag';\r\nimport Form from './styles/Form';\r\nimport Router from 'next/router';\r\n\r\nimport formatMoney from '../lib/formatMoney';\r\nimport Error from './ErrorMessage';\r\n\r\n\r\nconst SINGLE_ITEM_QUERY = gql`\r\n    query SINGLE_ITEM_QUERY($id: ID!) {\r\n        item(where: { id: $id }) {\r\n            id\r\n            title\r\n            description\r\n            price\r\n        }\r\n    }\r\n`;\r\n\r\nconst UPDATE_ITEM_MUTATION = gql`\r\n    mutation UPDATE_ITEM_MUTATION(\r\n        $title: String!\r\n        $description: String!\r\n        $price: Int!\r\n    ) {\r\n        createItem(\r\n            title: $title\r\n            description: $description\r\n            price: $price\r\n        ) {\r\n            id\r\n            title\r\n            description\r\n            price\r\n        }\r\n    }\r\n`;\r\n\r\nclass UpdateItem extends Component {\r\n    state = { };\r\n\r\n    handleChange = (e) => {\r\n        const { name, type, value } = e.target;\r\n        const val = type === 'number' ? parseFloat(value) : value;\r\n        this.setState({ [name]: val })\r\n    }\r\n\r\n  render() {\r\n    return (\r\n        <Query query={SINGLE_ITEM_QUERY} variables={{\r\n            id: this.props.id\r\n        }}>\r\n            {({data, loading}) => {\r\n                if(loading) return <p>Loading...</p>;\r\n                return (\r\n\r\n               \r\n        <Mutation mutation={UPDATE_ITEM_MUTATION} variables={this.state}> \r\n            {(updateItem, {loading, error}) => (\r\n                <Form onSubmit ={ e => this.updatItem(e, updateItem) }>\r\n                    <Error error={error} />\r\n                    <fieldset disabled={loading} aria-busy={loading}>\r\n\r\n                        <label htmlFor=\"title\">\r\n                          Title\r\n                          <input type=\"text\" id=\"title\" name=\"title\" placeholder=\"Title\" required defaultValue={data.item.title} onChange={this.handleChange} />\r\n                        </label>\r\n          \r\n                        <label htmlFor=\"price\">\r\n                          Price\r\n                          <input type=\"number\" id=\"price\" name=\"price\" placeholder=\"Price\" required value={data.item.price} onChange={this.handleChange} />\r\n                        </label>\r\n          \r\n                        <label htmlFor=\"description\">\r\n                          Description\r\n                          <textarea id=\"description\" name=\"description\" placeholder=\"Enter a Description\" required value={data.item.description} onChange={this.handleChange} />\r\n                        </label>\r\n          \r\n                        <button type=\"submit\" >Save Changes</button>\r\n                    </fieldset>\r\n                </Form>\r\n            )}\r\n        </Mutation>\r\n         )\r\n        }}\r\n    </Query>\r\n    )\r\n  }\r\n}\r\n\r\nexport default UpdateItem;\r\nexport { UPDATE_ITEM_MUTATION };"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AAGA;AAWA;AACA;AAkBA;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AACA;AACA;;;;;;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AApBA;AA0BA;AAGA;;;;AAjDA;AACA;AAmDA;;;;;A","sourceRoot":""}